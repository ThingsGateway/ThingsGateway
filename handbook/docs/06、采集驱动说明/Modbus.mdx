---
id: modbus
title: Modbus驱动
sidebar_label: 6.1、Modbus驱动
---
### （一）设备配置

1、Socket链路

| 属性           |  说明                    | 默认值/备注|
| ---------------| --------------------------| ---|
| 连接超时时间         | 建立socket通讯的超时时间（ms）                | 3000|
| 默认解析顺序         | 4个字节以上的数据解析，可设置为ABCD/BADC/CDBA/DCBA,默认ABCD |ABCD：Big-Endian<br></br>BADC：Big-Endian Byte Swap<br></br>CDAB：Little-Endian Byte Swap<br></br>DCBA：Little-Endian |
| IP         | 连接IP              | 127.0.0.1|
| 端口         | 连接端口              | 502|
| 默认站号         | 默认的mudbus站号id            | 1|
| 读写超时时间         | 读取等待中的超时时间（ms）              | 3000|
| 连接id检测         | 是否检查modbus的事务标识符和协议标识符为一致              | Flase |
| crc检测         | 是否检查modbus的事务标识符和协议标识符为一致              | True|

2、串口链路

| 属性           |  说明                    | 默认值/备注|
| ---------------| --------------------------| ---|
| 默认解析顺序         | 4个字节以上的数据解析，可设置为ABCD/BADC/CDBA/DCBA,默认ABCD |ABCD：Big-Endian<br></br>BADC：Big-Endian Byte Swap<br></br>CDAB：Little-Endian Byte Swap<br></br>DCBA：Little-Endian |
| COM口         | COM口              | COM1|
| 波特率         |               | 9600|
| 数据位         |               | 8|
| 校验位         |               | None|
| 停止位         |               | One|
| 默认站号         | 默认的mudbus站号id            | 1|
| 读写超时时间         | 读取等待中的超时时间（ms）              | 3000|
| crc检测         | 是否检查modbus的事务标识符和协议标识符为一致              | True|

### （二）变量配置
#### 变量地址说明

- 1、基本地址

| 地址           | 功能码         |  说明                    |
| ---------------| --------------|--------------------------|
| 4xxxxx         | 03            | 读取03功能码              |
| 3xxxxx         | 04            | 读取04功能码              |
| 1xxxxx         | 02            | 读取02功能码              |
| 0xxxxx         | 01            | 读取01功能码              |

- 2、站号(可选)

  当需要指定站号地址时可使用，举例：

| 地址           |   说明                    |
| ---------------| --------------------------|
| s=2;10001         |  读取02功能码 ,设备地址为2      |
| s=11;40001         |  读取03功能码 ,设备地址为11        |

- 3、写入功能码(可选)

  当需要指定16/15功能码时可使用，举例：

| 地址           |   说明                    |
| ---------------| --------------------------|
| w=15;10001         |  读取02功能码 ,写入15功能码      |
| w=16;40001         |  读取03功能码 ,写入16功能码        |

#### 变量特殊方法说明

无特殊方法